<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>콜백 함수 예시</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        h2 {
            color: #333;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border: 1px solid #ddd;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>콜백 함수 예시</h1>

    <h2>1. Array Methods (배열 메서드)</h2>
    <p><strong>forEach:</strong> 배열의 각 요소에 대해 한 번씩 제공된 콜백 함수를 실행합니다.</p>
    <pre><code>
const array = [1, 2, 3, 4, 5];
array.forEach(function(element) {
    console.log(element); // 각 요소를 출력
});
    </code></pre>

    <h2>2. Event Handling (이벤트 처리)</h2>
    <p><strong>addEventListener:</strong> 특정 이벤트가 발생했을 때 실행할 콜백 함수를 등록합니다.</p>
    <button id="myButton">Click me</button>
    <pre><code>
document.getElementById('myButton').addEventListener('click', function() {
    alert('Button was clicked!');
});
    </code></pre>

    <h2>3. Asynchronous Operations (비동기 작업)</h2>
    <p><strong>XMLHttpRequest:</strong> 콜백 함수는 서버 요청이 완료된 후에 실행됩니다.</p>
    <pre><code>
const xhr = new XMLHttpRequest();
xhr.open('GET', 'https://api.example.com/data', true);
xhr.onload = function() {
    if (xhr.status === 200) {
        console.log(xhr.responseText); // 서버 응답 출력
    }
};
xhr.send();
    </code></pre>

    <h2>4. Promises</h2>
    <p><strong>then:</strong> Promise가 해결되거나 거부된 후에 실행할 콜백 함수를 등록합니다.</p>
    <pre><code>
const promise = new Promise(function(resolve, reject) {
    setTimeout(function() {
        resolve('Success!');
    }, 1000);
});

promise.then(function(result) {
    console.log(result); // 'Success!' 출력
});
    </code></pre>

    <h2>5. Functional Programming (함수형 프로그래밍)</h2>
    <p><strong>Higher-Order Functions:</strong> 콜백 함수는 다른 함수에 인수로 전달되는 함수입니다.</p>
    <pre><code>
function greeting(name) {
    console.log('Hello ' + name);
}

function processUserInput(callback) {
    const name = prompt('Please enter your name.');
    callback(name);
}

processUserInput(greeting);
    </code></pre>

    <h2>6. setInterval</h2>
    <p><strong>setInterval:</strong> 지정된 시간 간격마다 콜백 함수를 반복 실행합니다.</p>
    <pre><code>
function sayHello() {
    console.log('Hello');
}

setInterval(sayHello, 1000); // 1초마다 'Hello' 출력
    </code></pre>

    <script>
        // Array Methods - forEach
        const array = [1, 2, 3, 4, 5];
        array.forEach(function(element) {
            console.log(element); // 각 요소를 출력
        });

        // Event Handling - addEventListener
        document.getElementById('myButton').addEventListener('click', function() {
            alert('Button was clicked!');
        });

        // Asynchronous Operations - XMLHttpRequest
        const xhr = new XMLHttpRequest();
        xhr.open('GET', 'https://jsonplaceholder.typicode.com/todos/1', true);
        xhr.onload = function() {
            if (xhr.status === 200) {
                console.log(xhr.responseText); // 서버 응답 출력
            }
        };
        xhr.send();

        // Promises
        const promise = new Promise(function(resolve, reject) {
            setTimeout(function() {
                resolve('Success!');
            }, 1000);
        });

        promise.then(function(result) {
            console.log(result); // 'Success!' 출력
        });

        // Functional Programming - Higher-Order Functions
        function greeting(name) {
            console.log('Hello ' + name);
        }

        function processUserInput(callback) {
            const name = prompt('Please enter your name.');
            callback(name);
        }

        processUserInput(greeting);

        // setInterval
        function sayHello() {
            console.log('Hello');
        }

        setInterval(sayHello, 1000); // 1초마다 'Hello' 출력
    </script>
</body>
</html>
